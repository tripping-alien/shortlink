<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shortlinks.art - Fast URL Shortener</title>
<meta name="description" content="Shortlinks.art - Quickly shorten URLs, share links, and track them. Fast, free, and secure URL shortener.">
<meta name="keywords" content="shorten url, link shortener, short links, fast links">
<meta name="author" content="Shortlinks.art">
<link rel="canonical" href="https://shortlinks.art/">

<!-- Adsense Auto Ads -->
<script data-ad-client="pub-6170587092427912" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<style>
:root {
  --primary: #4f46e5;
  --secondary: #6366f1;
  --accent: #facc15;
  --bg-gradient: linear-gradient(135deg, #e0f2fe, #f0f9ff);
  --text: #111827;
  --card-bg: #ffffff;
  --input-bg: #f9fafb;
  --border: #d1d5db;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: var(--bg-gradient);
  color: var(--text);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 1rem;
}
.container {
  background: var(--card-bg);
  padding: 2rem;
  border-radius: 16px;
  max-width: 500px;
  width: 100%;
  box-shadow: 0 12px 28px rgba(0,0,0,0.15);
  text-align: center;
}
h1 {
  color: var(--primary);
  margin-bottom: 0.5rem;
}
p.subtitle {
  margin-top: 0;
  margin-bottom: 1.5rem;
  color: #6b7280;
}
input, select {
  padding: 0.8rem;
  width: 100%;
  margin: 0.5rem 0;
  border-radius: 8px;
  border: 1px solid var(--border);
  font-size: 1rem;
  background: var(--input-bg);
}
button {
  background: var(--primary);
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  font-size: 1rem;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 0.5rem;
  transition: 0.3s;
}
button:hover { background: var(--secondary); }
.short-link {
  margin-top: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.6rem;
  background: var(--input-bg);
  border-radius: 8px;
  word-break: break-word;
}
.copy-btn {
  background: var(--accent);
  border: none;
  padding: 0.5rem 0.8rem;
  border-radius: 6px;
  cursor: pointer;
  color: var(--text);
}
.footer {
  margin-top: 2rem;
  font-size: 0.85rem;
  color: #6b7280;
}
@media(max-width:500px){
  .container { padding: 1.5rem; }
  button, .copy-btn { width: 100%; }
  .short-link { flex-direction: column; gap: 0.5rem; }
}
</style>
</head>
<body>

<div class="container">
  <h1>Shortlinks.art</h1>
  <p class="subtitle">Fast and secure URL shortener</p>

  <input type="url" id="longUrl" placeholder="Enter your URL here">
  <select id="ttl">
    <option value="1h">1 Hour</option>
    <option value="24h" selected>24 Hours</option>
    <option value="1w">1 Week</option>
    <option value="never">Never</option>
  </select>
  <input type="text" id="customCode" placeholder="Custom code (optional)">
  <button id="shortenBtn">Shorten</button>

  <div id="result" style="display:none;">
    <div class="short-link">
      <span id="shortUrl"></span>
      <button class="copy-btn" id="copyBtn">Copy</button>
    </div>
  </div>

  <div class="footer">
    &copy; 2025 Shortlinks.art | <a href="/health" target="_blank" rel="noopener">Health Check</a>
  </div>
</div>

<script>
const shortenBtn = document.getElementById("shortenBtn");
const resultDiv = document.getElementById("result");
const shortUrlSpan = document.getElementById("shortUrl");
const copyBtn = document.getElementById("copyBtn");

shortenBtn.addEventListener("click", async () => {
    const longUrl = document.getElementById("longUrl").value.trim();
    const ttl = document.getElementById("ttl").value;
    const customCode = document.getElementById("customCode").value.trim() || undefined;

    try {
        const res = await fetch("/api/v1/links", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({long_url: longUrl, ttl: ttl, custom_code: customCode})
        });
        const data = await res.json();
        if(res.ok){
            // Prepend the domain to the returned short code / preview URL
            let fullLink = data.short_url;
            if (!fullLink.startsWith("http")) {
                fullLink = "https://shortlinks.art" + (fullLink.startsWith("/") ? "" : "/") + fullLink;
            }

            shortUrlSpan.textContent = fullLink;
            resultDiv.style.display = "block";
        } else {
            alert(data.detail || "Error creating short link");
        }
    } catch(err) {
        console.error(err);
        alert("Failed to connect to the server. Try again later.");
    }
});

copyBtn.addEventListener("click", () => {
    navigator.clipboard.writeText(shortUrlSpan.textContent)
      .then(() => alert("Copied!"))
      .catch(() => alert("Failed to copy."));
});
</script>

</body>
</html>
