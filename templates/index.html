<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Free URL Shortener with Link Previews & Expiring Links - Shortlinks.art</title>
    <meta name="description" content="Create free short links with previews. Shortlinks.art is a fast, simple URL shortener that offers custom expiration times and link previews.">
    <meta name="keywords" content="url shortener, link shortener, free url shortener, url shortener with preview, link shortener with preview, custom short link, expiring links, temporary links, short url, shorten link, fast url shortener, simple url shortener, shortlinks.art">
    
    <link rel="canonical" href="https://shortlinks.art/" />
    <meta name="robots" content="index, follow">
    
    <meta name="google-site-verification" content="YOUR_GOOGLE_CODE_HERE" />
    <meta name="msvalidate.01" content="YOUR_BING_CODE_HERE" />
    <meta name="yandex-verification" content="YOUR_YANDEX_CODE_HERE" />

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://shortlinks.art/">
    <meta property="og:title" content="Free URL Shortener with Link Previews - Shortlinks.art">
    <meta property="og:description" content="A fast, free, and simple URL shortener with link previews and custom expiration times.">
    <meta property="og:image" content="https://shortlinks.art/assets/social-preview.jpg"> 

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://shortlinks.art/">
    <meta property="twitter:title" content="Free URL Shortener with Link Previews - Shortlinks.art">
    <meta property="twitter:description" content="A fast, free, and simple URL shortener with link previews and custom expiration times.">
    <meta property="twitter:image" content="https://shortlinks.art/assets/social-preview.jpg">

    {{ ADSENSE_SCRIPT|safe }} 

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* ... (Your CSS) ... */
        :root {
            --primary-color: #4f46e5;
            --primary-hover: #6366f1;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --bg-light: #f3f4f6;
            --bg-white: #ffffff;
            --border-color: #d1d5db;
        }
        body {
            font-family: 'Inter', Arial, sans-serif; margin: 0; background: var(--bg-light);
            color: var(--text-primary); display: flex; justify-content: center; align-items: center;
            min-height: 100vh; padding: 1rem; -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .container {
            background: var(--bg-white); padding: 2rem 2.5rem; border-radius: 12px;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.07), 0 4px 6px -2px rgba(0,0,0,0.05);
            width: 100%; max-width: 480px; text-align: center;
        }
        h1 { font-size: 2.25rem; font-weight: 700; margin-bottom: 0.5rem; }
        h1 span { color: var(--primary-color); }
        .tagline { color: var(--text-secondary); font-size: 1rem; margin-top: 0; margin-bottom: 2rem; }
        input, select {
            padding: 0.8rem; width: 100%; margin-bottom: 0.75rem; border-radius: 8px;
            border: 1px solid var(--border-color); font-size: 1rem; font-family: 'Inter', Arial, sans-serif;
            box-sizing: border-box; transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        input:focus, select:focus {
            border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
            outline: none;
        }
        button {
            background: var(--primary-color); color: white; border: none; padding: 0.8rem 1.5rem;
            font-size: 1rem; font-weight: 500; border-radius: 8px; cursor: pointer;
            width: 100%; margin-top: 0.5rem; transition: background-color 0.3s ease;
        }
        button:hover { background: var(--primary-hover); }
        button:disabled { background: #9ca3af; cursor: not-allowed; }
        #result {
            opacity: 0; max-height: 0; overflow: hidden;
            transition: opacity 0.5s ease, max-height 0.5s ease, margin-top 0.5s ease;
        }
        #result.show { opacity: 1; max-height: 100px; margin-top: 1.5rem; }
        .short-link {
            display: flex; justify-content: space-between; align-items: center;
            padding: 0.8rem 1rem; background: #f9fafb; border-radius: 8px;
            border: 1px solid #e5e7eb; word-break: break-all; text-align: left;
        }
        #shortUrl { font-weight: 500; }
        .copy-btn {
            background: #e5e7eb; color: #374151; padding: 0.5rem 0.8rem; border-radius: 6px;
            cursor: pointer; margin-left: 1rem; width: auto; margin-top: 0;
            font-size: 0.9rem; transition: background-color 0.3s ease;
        }
        .copy-btn:hover { background: #d1d5db; }
        .copy-btn:disabled { background: #e5e7eb; color: #6b7280; }
        #error-msg { color: #dc2626; font-size: 0.9rem; margin-top: 1rem; display: none; }
        @media(max-width:500px){
            .container { padding: 2rem 1.5rem; }
            h1 { font-size: 1.8rem; }
            .tagline { margin-bottom: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
      <h1>Shortlinks<span>.art</span></h1>
      
      <p class="tagline">A fast, simple URL shortener with link previews.</p>
      
      <input type="url" id="longUrl" placeholder="Enter your URL here">
      <select id="ttl">
        <option value="1h">1 Hour</option>
        <option value="24h" selected>24 Hours</option>
        <option value="1w">1 Week</option>
        <option value="never">Never</option>
      </select>
      <input type="text" id="customCode" placeholder="Custom code (optional)">
      
      <div id="error-msg"></div>
      
      <button id="shortenBtn">Shorten</button>
      
      <div id="result">
        <div class="short-link">
          <span id="shortUrl"></span>
          <button class="copy-btn" id="copyBtn">Copy</button>
        </div>
      </div>
    </div>

    <script>
    const shortenBtn = document.getElementById("shortenBtn");
    const resultDiv = document.getElementById("result");
    const shortUrlSpan = document.getElementById("shortUrl");
    const copyBtn = document.getElementById("copyBtn");
    const errorDiv = document.getElementById("error-msg");

    // --- JS Text is hard-coded in English again ---
    const TEXT_ENTER_URL = "Please enter a URL.";
    const TEXT_ERROR = "Error creating short link";
    const TEXT_ERROR_SERVER = "Failed to connect to the server.";
    const TEXT_SHORTENING = "Shortening...";
    const TEXT_SHORTEN = "Shorten";
    const TEXT_COPIED = "Copied!";
    const TEXT_COPY = "Copy";
    const TEXT_FAILED = "Failed!";

    shortenBtn.addEventListener("click", async () => {
        const longUrl = document.getElementById("longUrl").value.trim();
        const ttl = document.getElementById("ttl").value;
        const customCode = document.getElementById("customCode").value.trim() || undefined;
        
        errorDiv.style.display = "none";
        errorDiv.textContent = "";

        if (!longUrl) {
            errorDiv.textContent = TEXT_ENTER_URL;
            errorDiv.style.display = "block";
            return;
        }
        
        shortenBtn.disabled = true;
        shortenBtn.textContent = TEXT_SHORTENING;

        try {
            const res = await fetch("/api/v1/links", {
                method:"POST",
                headers:{"Content-Type":"application/json"},
                body: JSON.stringify({long_url:longUrl, ttl:ttl, custom_code:customCode})
            });
            const data = await res.json();
            
            if (res.ok) {
                shortUrlSpan.textContent = data.short_url;
                resultDiv.classList.add("show");
            } else {
                errorDiv.textContent = data.detail || TEXT_ERROR;
                errorDiv.style.display = "block";
            }
        } catch(err) {
            console.error(err);
            errorDiv.textContent = TEXT_ERROR_SERVER;
            errorDiv.style.display = "block";
        } finally {
            shortenBtn.disabled = false;
            shortenBtn.textContent = TEXT_SHORTEN;
        }
    });

    copyBtn.addEventListener("click", () => {
        navigator.clipboard.writeText(shortUrlSpan.textContent)
            .then(() => {
                copyBtn.textContent = TEXT_COPIED;
                copyBtn.disabled = true;
                setTimeout(() => {
                    copyBtn.textContent = TEXT_COPY;
                    copyBtn.disabled = false;
                }, 2000);
            })
            .catch(() => {
                copyBtn.textContent = TEXT_FAILED;
                copyBtn.disabled = true;
                 setTimeout(() => {
                    copyBtn.textContent = TEXT_COPY;
                    copyBtn.disabled = false;
                }, 2000);
            });
    });
    </script>
</body>
</html>
