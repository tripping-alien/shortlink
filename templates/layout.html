<!DOCTYPE html>
<html lang="{{ locale }}" {% if locale in RTL_LOCALES %}dir="rtl"{% endif %}>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{% block title %}{{ _("app_title") }}{% endblock %}</title>

    {% block meta %}
    <meta name="description" content="{{ _('meta_description_main') }}">
    <meta name="keywords" content="{{ _('meta_keywords_main') }}">
    <meta property="og:title" content="{{ _('app_title') }}">
    <meta property="og:description" content="{{ _('meta_description_og') }}">
    <meta property="og:type" content="website">
    {% endblock %}

    <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
    
    {% for tag in hreflang_tags %}
    <link rel="{{ tag.rel }}" hreflang="{{ tag.hreflang }}" href="{{ tag.href }}">
    {% endfor %}

    {{ ADSENSE_SCRIPT | safe }}
</head>
<body>

    <header>
        <nav class="container">
            <a href="{{ url_for('localized', path='.', locale=locale) }}" class="logo">üöÄ {{ _("app_title").split(" - ")[0] }}</a>
            
            <div class="nav-links">
                <a href="{{ url_for('localized', path='.', locale=locale) }}">üè† {{ _("nav_home") }}</a>
                
                <a href="{{ url_for('localized', path='about', locale=locale) }}">‚ÑπÔ∏è {{ _("nav_about") }}</a>
                
                <a href="{{ url_for('localized', path='dashboard', locale=locale) }}">üóÇÔ∏è {{ _("my_links_button") }}</a>
            </div>

            <div class="lang-switcher">
                <button class="lang-button">
                    {{ LOCALE_TO_EMOJI.get(locale, "üåç") }} {{ _("lang_name_" ~ locale) }}
                </button>
                <div class="lang-dropdown">
                    {% for lang in SUPPORTED_LOCALES %}
                    {% set new_path = request.url.path.replace('/' + locale, '', 1) | default('/') %}
                    <a href="/{{ lang }}{{ new_path }}">
                        {{ LOCALE_TO_EMOJI.get(lang, "üåç") }} {{ _("lang_name_" ~ lang) }}
                    </a>
                    {% endfor %}
                </div>
            </div>
        </nav>
    </header>
    
    <main class="container">
        {% block content %}{% endblock %}
    </main>

    <footer>
        <div class="container">
            <p>&copy; {{ current_year }} Shortlinks.art.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', path='/js/main.js') }}"></script>
    
    {% block scripts %}{% endblock %}
</body>
</html>
