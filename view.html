<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Preview - {{short_code}}</title>

<meta name="description" content="Preview your short link before visiting.">
<meta name="robots" content="noindex">
<link rel="canonical" href="{{BASE_URL}}/preview/{{short_code}}">

<style>
:root {
  --primary: #4f46e5;
  --secondary: #6366f1;
  --accent: #facc15;
  --bg: linear-gradient(135deg,#e0f2fe,#f0f9ff);
  --text: #111827;
  --card-bg: #fff;
}
body {
  margin:0;
  font-family:'Segoe UI',Arial,sans-serif;
  background: var(--bg);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  padding:1rem;
}
.card {
  background: var(--card-bg);
  padding:2rem;
  border-radius:16px;
  max-width:480px;
  width:100%;
  box-shadow:0 12px 28px rgba(0,0,0,0.15);
  text-align:center;
}
h1 {
  color: var(--primary);
  margin-bottom:0.5rem;
}
p {
  margin:0.5rem 0;
  word-break: break-word;
}
.button {
  display:inline-block;
  padding:0.8rem 1.5rem;
  margin-top:1rem;
  border-radius:8px;
  color:white;
  background: var(--primary);
  text-decoration:none;
  transition:0.3s;
}
.button:hover { background: var(--secondary); }
.copy-btn {
  margin-top:0.5rem;
  padding:0.5rem 1rem;
  background: var(--accent);
  border:none;
  border-radius:6px;
  cursor:pointer;
  color: var(--text);
}
.ttl {
  margin-top:0.5rem;
  font-size:0.9rem;
  color:#6b7280;
}
@media (max-width:500px){
  .card { padding:1.5rem; }
  .button, .copy-btn { width:100%; }
}
</style>
</head>
<body>

<div class="card">
  <h1>Preview Link</h1>
  <p>Original URL:</p>
  <p id="originalUrl">{{long_url}}</p>
  
  <p class="ttl">Expires: {{expires}}</p>

  <button class="copy-btn" id="copyBtn">Copy URL</button>
  <a class="button" href="{{BASE_URL}}/r/{{short_code}}" target="_blank" rel="noopener noreferrer">Go to Link</a>
</div>

<script>
const copyBtn = document.getElementById("copyBtn");
const originalUrl = document.getElementById("originalUrl").textContent;

copyBtn.addEventListener("click",()=>{
  navigator.clipboard.writeText(originalUrl)
    .then(()=>alert("Copied!"))
    .catch(()=>alert("Failed to copy."));
});
</script>
</body>
</html>
